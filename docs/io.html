<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>I/O · PeriDyn</title><meta name="title" content="I/O · PeriDyn"/><meta property="og:title" content="I/O · PeriDyn"/><meta property="twitter:title" content="I/O · PeriDyn"/><meta name="description" content="Documentation for PeriDyn."/><meta property="og:description" content="Documentation for PeriDyn."/><meta property="twitter:description" content="Documentation for PeriDyn."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/font.css" rel="stylesheet" type="text/css"/><link href="assets/color.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="PeriDyn logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">PeriDyn</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><a class="tocitem" href="examples.html">Quick start</a></li><li><a class="tocitem" href="toc.html">Table of contents</a></li><li><a class="tocitem" href="materialgeometry.html">Material geometry</a></li><li><a class="tocitem" href="mmodels.html">Material models</a></li><li><a class="tocitem" href="cmodels.html">Contact models</a></li><li><a class="tocitem" href="bc.html">Boundary conditions</a></li><li><a class="tocitem" href="solvers.html">Solvers</a></li><li class="is-active"><a class="tocitem" href="io.html">I/O</a><ul class="internal"><li><a class="tocitem" href="#Saving-Simulation-Data"><span>Saving Simulation Data</span></a></li></ul></li><li><a class="tocitem" href="list.html">Index</a></li><li><a class="tocitem" href="autodocs.html">Autodocs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="io.html">I/O</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="io.html">I/O</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ravinderbhattoo/PeriDyn" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ravinderbhattoo/PeriDyn/blob/master/documenter/src/io.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Input/Output"><a class="docs-heading-anchor" href="#Input/Output">Input/Output</a><a id="Input/Output-1"></a><a class="docs-heading-anchor-permalink" href="#Input/Output" title="Permalink"></a></h1><p>Here is a documentation for functions related to saving simulation state and data files, based on the provided source code:</p><h2 id="Saving-Simulation-Data"><a class="docs-heading-anchor" href="#Saving-Simulation-Data">Saving Simulation Data</a><a id="Saving-Simulation-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-Simulation-Data" title="Permalink"></a></h2><p>The PeriDyn package provides several functions for saving simulation data to files. These functions allow you to store the state of your simulations at various points during the simulation, which can be useful for post-processing, visualization, and analysis.</p><h3 id="File-Path-Generation"><a class="docs-heading-anchor" href="#File-Path-Generation">File Path Generation</a><a id="File-Path-Generation-1"></a><a class="docs-heading-anchor-permalink" href="#File-Path-Generation" title="Permalink"></a></h3><p>The <code>filepath_</code> function generates the path to the output folder for your simulation data.</p><ul><li><p><strong><code>filepath_(file_prefix::String; append_date=false)</code></strong></p><ul><li>Arguments:<ul><li><code>file_prefix</code>: A string representing the prefix of the output folder.</li></ul></li><li>Keyword Arguments:<ul><li><code>append_date</code>: A boolean value indicating whether to append the current date and time to the output folder name. Defaults to <code>false</code>.</li></ul></li><li>Returns:<ul><li>A string representing the full path to the output folder. The function also creates the folder if it doesn&#39;t exist.</li></ul></li><li>Example:</li></ul></li></ul><pre><code class="language-julia hljs">filepath_(&quot;my_simulation_data&quot;, append_date = true)
# Returns: &quot;my_simulation_data_2023-10-26T16-35-12/&quot; 
# (assuming the current date and time is 2023-10-26 16:35:12)</code></pre><h3 id="Saving-Simulation-State"><a class="docs-heading-anchor" href="#Saving-Simulation-State">Saving Simulation State</a><a id="Saving-Simulation-State-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-Simulation-State" title="Permalink"></a></h3><p>The <code>save_state!</code> and <code>save_state_ovito_bc!</code> functions save the state of your simulation environment to a file.</p><ul><li><p><strong><code>save_state!(filename, env; force=false)</code></strong></p><ul><li>Arguments:<ul><li><code>filename</code>: A string representing the name of the file to save the data to.</li><li><code>env</code>: A <code>GeneralEnvironment</code> object representing the simulation environment to be saved.</li></ul></li><li>Keyword Arguments:<ul><li><code>force</code>: A boolean value indicating whether to force saving to data file format even if the data size is large. Defaults to <code>false</code>. If set to <code>false</code> and the data size is large, the function automatically switches to the more efficient <code>.jld2</code> format.</li></ul></li><li>This function saves the following data for each particle in the simulation:<ul><li><code>id</code></li><li><code>type</code></li><li><code>position</code></li><li><code>velocity</code></li><li><code>acceleration</code></li><li><code>mass</code></li><li><code>volume</code></li><li><code>damage</code></li></ul></li><li>Example:</li></ul></li></ul><pre><code class="language-julia hljs">save_state!(&quot;my_simulation_state.data&quot;, env)</code></pre><ul><li><strong><code>save_state_ovito_bc!(filename, env; force=false)</code></strong><ul><li>This function works similarly to <code>save_state!</code> but it encodes the boundary condition information into the particle types. This is particularly useful if you plan to visualize the simulation data in Ovito, as it allows you to distinguish between particles belonging to different boundary conditions.</li><li>Example:</li></ul></li></ul><pre><code class="language-julia hljs">save_state_ovito_bc!(&quot;my_simulation_state.data&quot;, env)</code></pre><h3 id="Saving-Global-Data"><a class="docs-heading-anchor" href="#Saving-Global-Data">Saving Global Data</a><a id="Saving-Global-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-Global-Data" title="Permalink"></a></h3><p>The <code>write_global_data</code> function saves global simulation data to a <code>.jld2</code> file.</p><ul><li><strong><code>write_global_data(filename; kwargs...)</code></strong><ul><li>Arguments:<ul><li><code>filename</code>: A string representing the name of the <code>.jld2</code> file.</li><li><code>kwargs...</code>: Keyword arguments representing the global data to be saved. The keys should be symbols, and the values should be arrays or other serializable objects.</li></ul></li><li>Example:</li></ul></li></ul><pre><code class="language-julia hljs">write_global_data(&quot;global_data.jld2&quot;, total_energy = energy_history, total_momentum = momentum_history)</code></pre><h3 id="Saving-Data-at-Intervals"><a class="docs-heading-anchor" href="#Saving-Data-at-Intervals">Saving Data at Intervals</a><a id="Saving-Data-at-Intervals-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-Data-at-Intervals" title="Permalink"></a></h3><p>The <code>print_data_file!</code> function saves both the simulation state and global data to separate files at specified intervals during the simulation.</p><ul><li><strong><code>print_data_file!(envs::Array{GeneralEnvironment}, file_prefix::String, i::Int64)</code></strong><ul><li>Arguments:<ul><li><code>envs</code>: An array of <code>GeneralEnvironment</code> objects representing the simulation environments.</li><li><code>file_prefix</code>: A string representing the prefix for the output files.</li><li><code>i</code>: An integer representing the current step number.</li></ul></li><li>This function automatically appends the environment ID and step number to the file names.</li><li>Example:</li></ul></li></ul><pre><code class="language-julia hljs">print_data_file!([env1, env2], &quot;simulation_data&quot;, 10) 
# Creates files like &quot;simulation_data/env_1_step_10.jld2&quot;, 
# &quot;simulation_data/env_2_step_10.jld2&quot;, etc.</code></pre><h3 id="Data-File-Formats"><a class="docs-heading-anchor" href="#Data-File-Formats">Data File Formats</a><a id="Data-File-Formats-1"></a><a class="docs-heading-anchor-permalink" href="#Data-File-Formats" title="Permalink"></a></h3><p>The <code>save_state!</code>, <code>save_state_ovito_bc!</code>, and <code>print_data_file!</code> functions can save data in either <code>.data</code> or <code>.jld2</code> format.</p><ul><li>The <code>.data</code> format is a simple text-based format that is compatible with Ovito. However, it can be inefficient for large simulations.</li><li>The <code>.jld2</code> format is a binary format that is more efficient for storing large amounts of data.</li></ul><p>By default, these functions will attempt to save data in <code>.data</code> format unless the <code>force</code> keyword argument is set to <code>true</code> or the data size exceeds a certain threshold. In those cases, the functions will automatically switch to <code>.jld2</code> format. You can also explicitly specify the desired file format by using the appropriate file extension (e.g., &quot;.data&quot; or &quot;.jld2&quot;) in the <code>filename</code> argument.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="solvers.html">« Solvers</a><a class="docs-footer-nextpage" href="list.html">Index »</a><div class="flexbox-break"></div><p class="footer-message">Updated:  2024-09-06  19:24:20.870 </p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Friday 6 September 2024 19:24">Friday 6 September 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
